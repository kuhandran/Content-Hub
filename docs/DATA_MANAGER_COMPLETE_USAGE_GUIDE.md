# Data Manager - Complete Setup & Usage Guide

## ðŸ“Š Data Manager Sample View

### What You Should See:

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          ðŸ’¾ DATA MANAGER
                    Database Analysis & Pump Monitor
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ðŸ”„ PUMP MONITOR                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Status: â¸ï¸ Idle                                                      â”‚
â”‚  Progress: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%             â”‚
â”‚                                                                      â”‚
â”‚  Files Processed: 0    â”‚  Records Created: 0                        â”‚
â”‚  Last Run: Never       â”‚  Status: Ready to pump data                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ðŸ“ˆ DATABASE SUMMARY                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ“‹ Total Tables      â”‚  ðŸ“Š Total Records    â”‚  ðŸ’¾ Total Size       â”‚
â”‚     9 Tables          â”‚     1,234 Records    â”‚     5.2 MB           â”‚
â”‚                                                                      â”‚
â”‚  âš¡ Last Updated: 2024-01-13 10:30:45                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ðŸ“‹ DATABASE TABLES ANALYSIS                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ðŸ“‹ menu_config       â”‚  â”‚ ðŸ“š collections       â”‚               â”‚
â”‚  â”‚ Records: 12          â”‚  â”‚ Records: 45          â”‚               â”‚
â”‚  â”‚ Size: 16 KB          â”‚  â”‚ Size: 128 KB         â”‚               â”‚
â”‚  â”‚ Created: Jan 13      â”‚  â”‚ Created: Jan 12      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ âš™ï¸ config_files      â”‚  â”‚ ðŸ“Š data_files        â”‚               â”‚
â”‚  â”‚ Records: 8           â”‚  â”‚ Records: 120         â”‚               â”‚
â”‚  â”‚ Size: 64 KB          â”‚  â”‚ Size: 256 KB         â”‚               â”‚
â”‚  â”‚ Created: Jan 12      â”‚  â”‚ Created: Jan 12      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ðŸ“„ static_files      â”‚  â”‚ ðŸ–¼ï¸ images            â”‚               â”‚
â”‚  â”‚ Records: 35          â”‚  â”‚ Records: 22          â”‚               â”‚
â”‚  â”‚ Size: 144 KB         â”‚  â”‚ Size: 512 KB         â”‚               â”‚
â”‚  â”‚ Created: Jan 12      â”‚  â”‚ Created: Jan 12      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ âš¡ javascript_files  â”‚  â”‚ ðŸ“„ resumes           â”‚               â”‚
â”‚  â”‚ Records: 18          â”‚  â”‚ Records: 6           â”‚               â”‚
â”‚  â”‚ Size: 256 KB         â”‚  â”‚ Size: 32 KB          â”‚               â”‚
â”‚  â”‚ Created: Jan 12      â”‚  â”‚ Created: Jan 12      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ ðŸ“œ sync_manifest     â”‚                                          â”‚
â”‚  â”‚ Records: 5           â”‚                                          â”‚
â”‚  â”‚ Size: 8 KB           â”‚                                          â”‚
â”‚  â”‚ Created: Jan 13      â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ðŸŸ¢ DATABASE HEALTH                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Status: âœ… Healthy                                                  â”‚
â”‚  Message: Database is operational and populated with data           â”‚
â”‚  Last Sync: 2024-01-13 10:30:45                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                   ðŸ”„ Refresh Data    (Auto-updates: 5s)
```

---

## ðŸ—„ï¸ Table Mappings & Structure

### Complete Table Mapping

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE TABLES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

1. MENU_CONFIG (ðŸ“‹)
   â”œâ”€ Purpose: Dashboard navigation menus
   â”œâ”€ Records: 12 (sidebar menu items)
   â”œâ”€ Fields:
   â”‚  â”œâ”€ id (UUID) - Primary key
   â”‚  â”œâ”€ menu_name (VARCHAR) - overview, collections, analytics, etc.
   â”‚  â”œâ”€ display_name (VARCHAR) - Display text
   â”‚  â”œâ”€ icon (VARCHAR) - Emoji icon (ðŸ“Š, ðŸ“š, ðŸ“ˆ, etc.)
   â”‚  â”œâ”€ folder_path (TEXT) - public/collections, public/data, etc.
   â”‚  â”œâ”€ menu_order (INTEGER) - Sort order (1-12)
   â”‚  â””â”€ has_submenu (BOOLEAN) - Has language submenus
   â””â”€ Indexes: menu_name, menu_order

2. COLLECTIONS (ðŸ“š)
   â”œâ”€ Purpose: Multi-language content storage
   â”œâ”€ Records: 45+ (varies by languages & types)
   â”œâ”€ Fields:
   â”‚  â”œâ”€ id (UUID) - Primary key
   â”‚  â”œâ”€ language (VARCHAR) - en, es, fr, de, ar-AE, hi, id, my, si, ta, th
   â”‚  â”œâ”€ type (VARCHAR) - config, data
   â”‚  â”œâ”€ filename (VARCHAR) - achievements.json, etc.
   â”‚  â”œâ”€ file_path (TEXT) - public/collections/{lang}/{type}/
   â”‚  â”œâ”€ file_hash (VARCHAR) - SHA-256 for change detection
   â”‚  â”œâ”€ content (JSONB) - Actual JSON file content
   â”‚  â”œâ”€ created_at (TIMESTAMP) - Creation time
   â”‚  â””â”€ updated_at (TIMESTAMP) - Last update time
   â””â”€ Indexes: language, type, file_path, created_at DESC, file_hash

3. CONFIG_FILES (âš™ï¸)
   â”œâ”€ Purpose: Application configuration files
   â”œâ”€ Records: 8 (apiRouting, languages, pageLayout, etc.)
   â”œâ”€ Fields:
   â”‚  â”œâ”€ id, filename, file_path, file_hash
   â”‚  â”œâ”€ content (JSONB) - Configuration data
   â”‚  â”œâ”€ file_size (INTEGER) - Bytes
   â”‚  â”œâ”€ created_at, updated_at
   â””â”€ Source: public/config/ directory

4. DATA_FILES (ðŸ“Š)
   â”œâ”€ Purpose: Core application data
   â”œâ”€ Records: 120+ (achievements, caseStudies, education, etc.)
   â”œâ”€ Contains: Skills, experience, projects, resume data
   â””â”€ Source: public/data/ directory

5. STATIC_FILES (ðŸ“„)
   â”œâ”€ Purpose: Web assets and static content
   â”œâ”€ Records: 35 (robots.txt, sitemap.xml, manifest.json, etc.)
   â”œâ”€ Fields: filename, file_path, file_hash, file_type, file_size
   â””â”€ Source: public/files/ directory

6. IMAGES (ðŸ–¼ï¸)
   â”œâ”€ Purpose: Image metadata and references
   â”œâ”€ Records: 22 (portfolio images, icons, etc.)
   â”œâ”€ Fields: filename, file_path, image_url, alt_text, dimensions
   â””â”€ Source: public/image/ directory

7. JAVASCRIPT_FILES (âš¡)
   â”œâ”€ Purpose: JS bundles and assets
   â”œâ”€ Records: 18
   â”œâ”€ Fields: filename, file_path, content (TEXT), minified (BOOLEAN)
   â””â”€ Source: public/js/ directory

8. RESUMES (ðŸ“„)
   â”œâ”€ Purpose: Resume document storage
   â”œâ”€ Records: 6
   â”œâ”€ Fields: filename, file_path, content (JSONB), file_size
   â””â”€ Source: public/resume/ directory

9. SYNC_MANIFEST (ðŸ“œ)
   â”œâ”€ Purpose: Pump operation audit log
   â”œâ”€ Records: 5+ (one per pump operation)
   â”œâ”€ Fields:
   â”‚  â”œâ”€ id (UUID) - Primary key
   â”‚  â”œâ”€ table_name (VARCHAR) - Which table was pumped
   â”‚  â”œâ”€ status (VARCHAR) - completed, in-progress, error
   â”‚  â”œâ”€ message (TEXT) - Operation details
   â”‚  â”œâ”€ files_count (INTEGER) - Files processed
   â”‚  â”œâ”€ hash_mismatches (INTEGER) - Changed files
   â”‚  â”œâ”€ missing_files (INTEGER) - New files
   â”‚  â”œâ”€ metadata (JSONB) - Additional info
   â”‚  â”œâ”€ created_at, updated_at
   â””â”€ Used for: Tracking pump history and debugging

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Supabase Monitoring Queries

### Get Record Counts for All Tables

```sql
SELECT 
  'menu_config' as table_name, COUNT(*) as count FROM menu_config
UNION ALL
SELECT 'collections', COUNT(*) FROM collections
UNION ALL
SELECT 'config_files', COUNT(*) FROM config_files
UNION ALL
SELECT 'data_files', COUNT(*) FROM data_files
UNION ALL
SELECT 'static_files', COUNT(*) FROM static_files
UNION ALL
SELECT 'images', COUNT(*) FROM images
UNION ALL
SELECT 'javascript_files', COUNT(*) FROM javascript_files
UNION ALL
SELECT 'resumes', COUNT(*) FROM resumes
UNION ALL
SELECT 'sync_manifest', COUNT(*) FROM sync_manifest
ORDER BY table_name;
```

**Sample Output:**
```
table_name          | count
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€
collections         |   45
config_files        |    8
data_files          |  120
images              |   22
javascript_files    |   18
menu_config         |   12
resumes             |    6
static_files        |   35
sync_manifest       |    5
```

---

### Get Detailed Table Statistics

```sql
SELECT 
  tablename,
  pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) as size,
  (SELECT COUNT(*) FROM information_schema.statistics 
   WHERE table_name = tablename) as indexes
FROM pg_tables 
WHERE schemaname = 'public'
ORDER BY tablename;
```

---

### Check Collections by Language

```sql
SELECT 
  language,
  type,
  COUNT(*) as count,
  MIN(created_at) as first_created,
  MAX(updated_at) as last_updated
FROM collections
GROUP BY language, type
ORDER BY language, type;
```

**Sample Output:**
```
language | type   | count | first_created           | last_updated
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ar-AE    | config |     1 | 2024-01-12 10:00:00 UTC | 2024-01-13
ar-AE    | data   |     5 | 2024-01-12 10:00:00 UTC | 2024-01-13
de       | config |     1 | 2024-01-12 10:00:00 UTC | 2024-01-13
de       | data   |     5 | 2024-01-12 10:00:00 UTC | 2024-01-13
...
```

---

### Monitor Pump Operations

```sql
SELECT 
  table_name,
  status,
  COUNT(*) as operations,
  MAX(created_at) as last_operation,
  SUM(files_count) as total_files
FROM sync_manifest
GROUP BY table_name, status
ORDER BY last_operation DESC;
```

**Sample Output:**
```
table_name        | status    | operations | last_operation          | total_files
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
all               | completed |          2 | 2024-01-13 10:30:45 UTC | 320
collections       | completed |          1 | 2024-01-13 10:15:30 UTC | 45
data_files        | completed |          1 | 2024-01-13 10:15:30 UTC | 120
```

---

### Get Latest Pump Status

```sql
SELECT 
  table_name,
  status,
  message,
  files_count,
  metadata->'progress' as progress_percent,
  created_at,
  updated_at
FROM sync_manifest
WHERE created_at = (SELECT MAX(created_at) FROM sync_manifest)
ORDER BY table_name;
```

---

### Monitor Database Growth

```sql
SELECT 
  DATE_TRUNC('day', created_at)::date as date,
  COUNT(DISTINCT table_name) as tables_updated,
  SUM(files_count) as files_processed,
  COUNT(*) as operations
FROM sync_manifest
WHERE status = 'completed'
GROUP BY DATE_TRUNC('day', created_at)
ORDER BY date DESC
LIMIT 7;
```

---

## ðŸš€ Usage Instructions

### Step 1: Initial Setup

1. **Create Database Tables**
   ```bash
   # Copy all SQL from DATABASE_SCHEMA.sql
   # Paste in Supabase SQL Editor
   # Execute
   ```

2. **Verify Tables Created**
   ```sql
   SELECT table_name FROM information_schema.tables 
   WHERE table_schema = 'public' 
   ORDER BY table_name;
   ```

3. **Check Menu Items (should be 12)**
   ```sql
   SELECT menu_order, menu_name, display_name, icon 
   FROM menu_config 
   ORDER BY menu_order;
   ```

### Step 2: Load Primary Data

1. Go to Admin Dashboard: `https://static.kuhandranchatbot.info/admin`
2. Click **Overview** (ðŸ“Š) tab
3. Click **ðŸš€ Load Primary Data** button
4. Watch progress bar fill up
5. Should see "âœ… Pump completed successfully"

### Step 3: Monitor Data in Data Manager

1. Click **Data Manager** (ðŸ’¾) tab
2. **Pump Monitor** shows:
   - Status: âœ… Completed
   - Progress: 100%
   - Files Processed: 320
   - Records Created: 271

3. **Database Summary** shows:
   - Total Tables: 9
   - Total Records: 271
   - Total Size: 5.2 MB
   - Last Updated: Just now

4. **Table Analysis** shows each table:
   - menu_config: 12 records (0 change expected)
   - collections: 45 records
   - config_files: 8 records
   - data_files: 120 records
   - static_files: 35 records
   - images: 22 records
   - javascript_files: 18 records
   - resumes: 6 records
   - sync_manifest: 1 record (pump operation log)

### Step 4: Verify with Supabase Queries

Run these in Supabase SQL Editor to verify:

```sql
-- Check all record counts
SELECT 'menu_config' as table_name, COUNT(*) as count FROM menu_config
UNION ALL SELECT 'collections', COUNT(*) FROM collections
UNION ALL SELECT 'config_files', COUNT(*) FROM config_files
UNION ALL SELECT 'data_files', COUNT(*) FROM data_files
UNION ALL SELECT 'static_files', COUNT(*) FROM static_files
UNION ALL SELECT 'images', COUNT(*) FROM images
UNION ALL SELECT 'javascript_files', COUNT(*) FROM javascript_files
UNION ALL SELECT 'resumes', COUNT(*) FROM resumes
UNION ALL SELECT 'sync_manifest', COUNT(*) FROM sync_manifest;

-- Check latest pump operation
SELECT table_name, status, files_count, created_at 
FROM sync_manifest 
ORDER BY created_at DESC LIMIT 1;

-- Check language distribution
SELECT language, COUNT(*) as count FROM collections GROUP BY language;
```

---

## ðŸ“‹ Quick Reference: Expected Record Counts

| Table | Expected Records | Purpose |
|-------|------------------|---------|
| menu_config | 12 | Dashboard navigation |
| collections | 45+ | 11 languages Ã— 2-5 types each |
| config_files | 8 | apiRouting, languages, pageLayout, etc. |
| data_files | 120+ | achievements, caseStudies, education, etc. |
| static_files | 35 | Web assets (robots.txt, manifest.json, etc.) |
| images | 22 | Portfolio and icon images |
| javascript_files | 18 | JS bundles and assets |
| resumes | 6 | Resume documents |
| sync_manifest | 1+ | One entry per pump operation |
| **TOTAL** | **~271** | All data combined |

---

## ðŸ”§ Troubleshooting

### Issue: Data Manager shows "0 records"
**Solution**: Run "Load Primary Data" button in Overview tab

### Issue: Collections empty
**Solution**: 
1. Make sure `/public/collections/{language}/` folders exist
2. Ensure JSON files are in correct structure
3. Run pump operation again

### Issue: Pump shows "Error"
**Check**:
1. `/public` folder exists and is readable
2. All subdirectories exist (config, data, files, image, js, resume)
3. JSON files are valid (no syntax errors)

### Issue: Tables show wrong counts
**Fix**:
1. Refresh the Data Manager page
2. Wait 5 seconds for auto-update
3. Click "ðŸ”„ Refresh Data" button
4. Check Supabase directly with query

---

## ðŸ“Š Real-Time Monitoring Dashboard

The Data Manager provides real-time insights:

```
âœ… PUMP OPERATIONS
   â€¢ Real-time progress (0-100%)
   â€¢ Files processed counter
   â€¢ Records created counter
   â€¢ Operation status (Idle/Processing/Completed/Error)

âœ… DATABASE METRICS
   â€¢ Total tables count
   â€¢ Total records across all tables
   â€¢ Storage size in MB
   â€¢ Last updated timestamp

âœ… TABLE ANALYSIS
   â€¢ Individual record counts per table
   â€¢ Storage size per table
   â€¢ Creation and update timestamps
   â€¢ Growth rate classification (Low/Medium/High)
   â€¢ Column and index counts

âœ… HEALTH STATUS
   â€¢ ðŸŸ¢ Healthy (data present)
   â€¢ ðŸŸ¡ Warning (low data)
   â€¢ ðŸ”´ Critical (empty/errors)

âœ… AUTO-REFRESH
   â€¢ Updates every 5 seconds
   â€¢ Manual refresh button
   â€¢ Pump monitoring every 2 seconds
```

---

## ðŸŽ¯ What to Monitor

| Metric | Normal | Warning | Critical |
|--------|--------|---------|----------|
| Total Records | > 100 | 10-100 | < 10 |
| Health Status | ðŸŸ¢ | ðŸŸ¡ | ðŸ”´ |
| Last Updated | Within 5 min | > 5 min | Never |
| Pump Status | Completed | In-progress | Error |
| Storage | > 1 MB | 100 KB-1 MB | < 100 KB |

This Data Manager gives you complete visibility into your database health and pump operations!
